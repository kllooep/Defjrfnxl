local Rep = game:GetService("ReplicatedStorage")
local StarterGui = game:GetService("StarterGui")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- Remotes
local ChangeBodyRemote = Rep.Remotes:FindFirstChild("ChangeCharacterBody")
local ResetAppearanceRemote = Rep.Remotes:FindFirstChild("ResetCharacterAppearance")

-- Animation IDs
local SKYBOX_ANIMATION_ID = 101852027997337
local SKYBOX_BODY_ID = 100839513065432

-- Play animation function
local function playAnimation(animId)
    local character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    local humanoid = character:WaitForChild("Humanoid")

    local anim = Instance.new("Animation")
    anim.AnimationId = "rbxassetid://" .. animId

    local track = humanoid:LoadAnimation(anim)
    track.Priority = Enum.AnimationPriority.Action4
    track:Play(0.1, 1, 1)

    return track
end

-- Notification function
local function notify(title, text)
    StarterGui:SetCore("SendNotification", {
        Title = title,
        Text = text,
        Duration = 4
    })
end

-----------------------------------------------------
-- Ø²Ø±: ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø³ÙƒØ§ÙŠ Ø¨ÙˆÙƒØ³
-----------------------------------------------------
Tab18:AddButton({
    Name = "ØªØ´ØºÙŠÙ„ Ø§Ø®ØªØ±Ø§Ù‚ Ø§Ù„Ø³Ù…Ø§Ø¡ğŸŒŒ",
    Description = "ØªÙ„ÙˆÙŠÙ† Ø§Ù„Ø³Ù…Ø§Ø¡ Ø¨Ø§Ù„ØªÙŠØ´Ø±Øª Ø§Ù„Ø®Ø§Øµ Ø¨ÙƒğŸŒ«ï¸",
    
    Callback = function()
        if ChangeBodyRemote then
            ChangeBodyRemote:InvokeServer({SKYBOX_BODY_ID})
        end
        
        playAnimation(SKYBOX_ANIMATION_ID)
        
        notify("Skybox", "ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø³ÙƒØ§ÙŠ Ø¨ÙˆÙƒØ³ Ø¨Ù†Ø¬Ø§Ø­!")
    end
})

-----------------------------------------------------
-- Ø²Ø±: Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø³ÙƒØ§ÙŠ Ø¨ÙˆÙƒØ³
-----------------------------------------------------
Tab18:AddButton({
    Name = "Ø¥ÙŠÙ‚Ø§Ù Ø§Ø®ØªØ±Ø§Ù‚ Ø§Ù„Ø³Ù…Ø§Ø¡ğŸŒŒ",
    Description = "Ø§Ø±Ø¬Ø§Ø¹ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ù„Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø§ØµÙ„ÙŠ",

    Callback = function()
        if ResetAppearanceRemote then
            pcall(function()
                ResetAppearanceRemote:FireServer()
            end)
        end

        -- Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø£Ù†ÙŠÙ…ÙŠØ´ÙŠÙ†Ø§Øª
        local char = LocalPlayer.Character
        if char then
            local humanoid = char:FindFirstChild("Humanoid")
            if humanoid then
                for _, track in ipairs(humanoid:GetPlayingAnimationTracks()) do
                    track:Stop()
                end
            end
        end

        notify("Ø§Ø®ØªØ±Ø§Ù‚ Ø§Ù„Ø³Ù…Ø§Ø¡", "ØªÙ… Ø§Ù„Ø¥ÙŠÙ‚Ø§Ù")
    end
})
